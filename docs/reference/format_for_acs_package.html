<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Reformat ACS Data Obtained by get.acs() for Import to the acs Package — format_for_acs_package • ACSdownload</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Reformat ACS Data Obtained by get.acs() for Import to the acs Package — format_for_acs_package"><meta name="description" content="Work in progress *****
Currently only works for 5-year summary file data from ACS.
Use same format as American Fact Finder uses for downloaded csv of tract data, for example.
Format is ESTIMATE, MOE, ESTIMATE, MOE... and KEY cols are GEOID, FIPS, AND NAME,
but also SUMLEVEL (specifies if tract or blockgroup, for example), and not STUSAB (2-letter State abbreviation)."><meta property="og:description" content="Work in progress *****
Currently only works for 5-year summary file data from ACS.
Use same format as American Fact Finder uses for downloaded csv of tract data, for example.
Format is ESTIMATE, MOE, ESTIMATE, MOE... and KEY cols are GEOID, FIPS, AND NAME,
but also SUMLEVEL (specifies if tract or blockgroup, for example), and not STUSAB (2-letter State abbreviation)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ACSdownload</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ejanalysis/ACSdownload/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Reformat ACS Data Obtained by <code><a href="get.acs.html">get.acs()</a></code> for Import to the acs Package</h1>
      <small class="dont-index">Source: <a href="https://github.com/ejanalysis/ACSdownload/blob/HEAD/R/format_for_acs_package.R" class="external-link"><code>R/format_for_acs_package.R</code></a></small>
      <div class="d-none name"><code>format_for_acs_package.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Work in progress ***** <br><br>
Currently only works for 5-year summary file data from ACS.
Use same format as American Fact Finder uses for downloaded csv of tract data, for example.
Format is ESTIMATE, MOE, ESTIMATE, MOE... and KEY cols are GEOID, FIPS, AND NAME,
but also SUMLEVEL (specifies if tract or blockgroup, for example), and not STUSAB (2-letter State abbreviation).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">format_for_acs_package</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  tableid <span class="op">=</span> <span class="st">""</span>,</span>
<span>  folder <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  end.year <span class="op">=</span> <span class="fu"><a href="acsdefaultendyearhere_func.html">acsdefaultendyearhere_func</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  savefile <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Required list of tables from earlier steps in <code><a href="get.acs.html">get.acs()</a></code></p></dd>


<dt id="arg-tableid">tableid<a class="anchor" aria-label="anchor" href="#arg-tableid"></a></dt>
<dd><p>Used to name any saved file. Should be a string such as 'B01001'. Default is ”</p></dd>


<dt id="arg-folder">folder<a class="anchor" aria-label="anchor" href="#arg-folder"></a></dt>
<dd><p>Default is getwd() and specifies where to save csv if savefile=TRUE</p></dd>


<dt id="arg-end-year">end.year<a class="anchor" aria-label="anchor" href="#arg-end-year"></a></dt>
<dd><p>Optional, text to use in filename if savefile=TRUE. The acs package
needs this in the filename to infer the year, or that can be specified as the <code>endyear</code> parameter in <code><a href="https://rdrr.io/pkg/acs/man/read.acs.html" class="external-link">acs::read.acs()</a></code></p></dd>


<dt id="arg-savefile">savefile<a class="anchor" aria-label="anchor" href="#arg-savefile"></a></dt>
<dd><p>Default is TRUE which means save a csv file to folder</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Data.frame for use in <a href="https://rdrr.io/pkg/acs/man/acs-package.html" class="external-link">acs</a> package.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Downloading C17002 from American Fact Finder results in a zip file with csv as follows:<br>
ACS_13_5YR_B01001_with_ann.csv or ACS_12_5YR_C17002_with_ann.csv  is format of the data file with estimates and MOE values<br>
First row is header with field names. Other rows are tract data. <br>
Note that the fields are:<br>
GEOID, FIPS, NAME, e1, m1, e2, m2, etc.<br>
Columns 1,2,3 are geo information. Columns 4+ are data (estimate,moe,estimate,moe, etc.)<br>
First 2 rows example:<br>
GEO.id,GEO.id2,GEO.display-label,HD01_VD01,HD02_VD01,HD01_VD02,HD02_VD02,HD01_VD03,HD02_VD03,HD01_VD04,HD02_VD04,HD01_VD05,HD02_VD05,HD01_VD06,HD02_VD06,HD01_VD07,HD02_VD07,HD01_VD08,HD02_VD08<br>
0800000US110015000050000000501,110015000050000000501,"Census Tract 5.01, Washington city, Washington city, District of Columbia, District of Columbia",3113,296,232,164,50,47,77,84,82,90,199,122,19,29,2454,312<br></p>
<p>ACS_12_5YR_C17002_metadata.csv  has the long and short variable names. <br>
There is no header row. A header of field names would be these 2: "short.name", "long.name"<br>
Each row here corresponds to one column of the data/moe fields (after the geo fields) in the main data file.<br>
First few rows example:<br>
GEO.id,Id      This is like GEOID field in acs via ftp
GEO.id2,Id2    This seems to be like FIPS string portion of GEOID <br>
GEO.display-label,Geography  This is a full place name (NAME) <br>
HD01_VD01,Estimate; Total:<br>
HD02_VD01,Margin of Error; Total:<br>
HD01_VD02,Estimate; Total: - Under .50<br>
HD02_VD02,Margin of Error; Total: - Under .50<br><br></p>
<p>e.g., <br>
GEO.id     GEO.id2                                 GEO.display.label        HD01_VD01 <br>
1                   Id         Id2                                         Geography Estimate; Total: <br>
2 1400000US24031700101 24031700101 Census Tract 7001.01, Montgomery County, Maryland             4477 <br>
3 1400000US24031700103 24031700103 Census Tract 7001.03, Montgomery County, Maryland             5776 <br></p>
<p>JUST TRACTS were available from Fact Finder up to 2008-2012 ACS, so that is what acs package would typically import until recently.<br>
Actually starting with 2009-2013 ACS, block groups are available via AFF, but only by specifying one (or each) county in a State.<br>
###############################################################################<br></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="get.acs.html">get.acs()</a></code> to obtain acs data for use in this function, and then <code><a href="https://rdrr.io/pkg/acs/man/read.acs.html" class="external-link">acs::read.acs()</a></code> to read csv created by this function</p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="mailto:info@ejanalysis.com" class="email">info@ejanalysis.com</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

